<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.Penistrong.GameResourceMS.posts.mapper.PostsMapper">
	<select id="getLatestPosts" resultType="java.util.Map">
		SELECT a.*,b.visits,b.last_reply_time,b.last_reply_user,b.floors,b.tags
		  FROM posts_base_info a
	INNER JOIN posts_extend_info b
		  	ON a.resource_id = b.resource_id and a.post_id = b.post_id
	  ORDER BY b.last_reply_time DESC	   
	</select>
	
	<insert id="createNewPost">
		INSERT INTO
			   posts_base_info
		(RESOURCE_ID,POST_ID,POST_TITLE,POST_AUTHOR,UPLOAD_TIME,POST_TITLE,POST_SUBHEAD,POST_CONTENT)
		VALUES 
		(#{resource_id},#{post_id},#{post_title},#{post_author},#{upload_time},#{post_title},#{post_subhead},#{post_content})
	</insert>
</mapper>