<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.Penistrong.GameResourceMS.user.personalConfig.mapper.PersonalConfigMapper">
	<update id="updateUserInfo">
		UPDATE user_accounts
		   SET <if test="introduction != '' and introduction != null">introduction = #{introduction}</if>
		   	   <if test=" user_name !='' and user_name != null ">,user_name = #{user_name}</if>
		 WHERE resource_id = #{resource_id}
		   AND user_id = #{user_id}
	</update>
	
	<update id="uploadPortrait">
		UPDATE user_moreinfos
		   SET portrait_id = #{portrait_id}, portrait = #{portrait}, upload_time = #{upload_time}
		 WHERE resource_id = #{resource_id}
		   AND user_id = #{user_id}
	</update>
	
	<select id="getPortrait" resultType="java.lang.String">
		SELECT portrait
		  FROM user_moreinfos
		 WHERE resource_id = #{resource_id}
		<if test="user_id != '' and user_id != null">	 
		   AND user_id = #{user_id}
		</if>
	</select>
	
</mapper>